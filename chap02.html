

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ja" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ja" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Pythonの基本 &mdash; FortranユーザーのためのPython入門</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/translations.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="next" title="3. 対話型の実行方法" href="chap03.html" />
    <link rel="prev" title="1. はじめに" href="chap01.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Python for Fortran Users
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="chap01.html">1. はじめに</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Pythonの基本</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">2.1. プログラムの実行</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">2.2. ソースコードの基本構造</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id8">2.3. 変数</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id9">2.4. 算術演算</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id10">2.5. 数学関数</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id11">2.6. キーボード入力</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id12">2.7. 第2章 演習課題</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id13">2.7.1. 課題1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">2.7.2. 課題2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">2.7.3. 課題3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">2.7.4. 課題4</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chap03.html">3. 対話型の実行方法</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap04.html">4. 制御構造と関数</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap05.html">5. 便利な組み込みオブジェクト</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap06.html">6. NumPy配列の基本</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Python for Fortran Users</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">2. </span>Pythonの基本</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="python">
<h1><a class="toc-backref" href="#id23"><span class="section-number">2. </span>Pythonの基本</a><a class="headerlink" href="#python" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>まずはPythonプログラムの実行方法と基本的な言語仕様を抑えよう．ただし，ここではCまたはFortranの基本的な文法は既に知っているものとして，それらと比較をしながら基本的な事項を抑えるにとどめる．ここで解説する以上の事柄については必要に応じて調べて欲しい．</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<ul class="simple">
<li><p><a class="reference internal" href="chap02_hello_py.html"><span class="doc">hello.py</span></a> : Hello, world !</p></li>
<li><p><a class="reference internal" href="chap02_sample1_py.html"><span class="doc">sample1.py</span></a> : ソースコードの基本構造</p></li>
<li><p><a class="reference internal" href="chap02_sample2_py.html"><span class="doc">sample2.py</span></a> : 変数</p></li>
<li><p><a class="reference internal" href="chap02_sample3_py.html"><span class="doc">sample3.py</span></a> : 算術演算・数学関数</p></li>
<li><p><a class="reference internal" href="chap02_sample4_py.html"><span class="doc">sample4.py</span></a> : キーボード入力</p></li>
</ul>
</div>
<div class="contents topic" id="id1">
<p class="topic-title">この章の内容</p>
<ul class="simple">
<li><p><a class="reference internal" href="#python" id="id23">Pythonの基本</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id24">プログラムの実行</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id25">ソースコードの基本構造</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id26">変数</a></p></li>
<li><p><a class="reference internal" href="#id9" id="id27">算術演算</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id28">数学関数</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id29">キーボード入力</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id30">第2章 演習課題</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id24"><span class="section-number">2.1. </span>プログラムの実行</a><a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>お決まりの&quot;Hello, world !&quot;を標準出力に表示するサンプルプログラム( <a class="reference internal" href="chap02_hello_py.html"><span class="doc">hello.py</span></a> )は以下の通りである．単純に <code class="docutils literal notranslate"><span class="pre">print</span></code> 関数に表示したい文字列を渡せばよい <a class="footnote-reference brackets" href="#print" id="id3">1</a>．</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="chap02_hello_py.html"><span class="doc">hello.py</span></a></span><a class="headerlink" href="#id17" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello, world !&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<p>これを実行するにはコマンドラインで</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ python ./hello.py
</pre></div>
</td></tr></table></div>
<p>または</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ ./hello.py
</pre></div>
</td></tr></table></div>
<p>とすればよい．2番めの実行方法は <code class="docutils literal notranslate"><span class="pre">hello.py</span></code> が実行権限を持っていなければならない <a class="footnote-reference brackets" href="#cmdexec" id="id4">2</a>．
実行権限を与えるには例えば</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ chmod <span class="m">755</span> hello.py
</pre></div>
</td></tr></table></div>
<p>とすればよい．</p>
<p>ここでCやFortranでは必須であったコンパイル作業が必要なかったことに注意しよう．Pythonはこれらのコンパイル型言語とは異なりインタープリター型の言語に分類される．すなわち，コンパイルによって全てが一旦機械語に変換されてから実行されるのではなく，プログラムの実行時に一文ずつ読み込まれて，解釈され(interpret)，実行される．したがって，一般にインタープリター型言語の実行速度はコンパイル型言語に比べて非常に遅い．Pythonにおいてもこれは正しいが，この問題は多くの場合（少なくともある程度は）回避することが可能である．その代わりに変数の型宣言などを事前にすることなく使うことができたりと，比較的お手軽に使えるのが大きな利点である．このようにソースコードを(コンパイルすることなく)そのまま実行する言語をスクリプト言語と呼んだりもする．bashなどのシェルも一種のスクリプト言語である．</p>
<p>また，Pythonはインタープリターとしての特徴を生かして対話的な使い方も可能である．これについては <a class="reference internal" href="chap03.html"><span class="doc">対話型の実行方法</span></a> で別途紹介するが，ここではまずはコマンドラインでの実行方法に慣れておこう <a class="footnote-reference brackets" href="#interactive" id="id5">3</a> ．</p>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id25"><span class="section-number">2.2. </span>ソースコードの基本構造</a><a class="headerlink" href="#id6" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Pythonのプログラムは（変数，関数，クラスなどの定義を除けば）基本的には上から順に実行されると思ってよい．ただし各行の <code class="docutils literal notranslate"><span class="pre">#</span></code> 以降はコメントと解釈され無視される．また，Fortranとは異なりアルファベットの大文字と小文字は区別される．</p>
<p>Pythonの大きな特徴は <strong>構文ブロックがインデント（字下げ）で区別される</strong> という点である．まずは以下のサンプルを見てみよう．</p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="chap02_sample1_py.html"><span class="doc">sample1.py</span></a></span><a class="headerlink" href="#id18" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># これはコメント行</span>
<span class="k">if</span> <span class="mi">1</span><span class="p">:</span>
    <span class="c1"># pythonでは構文ブロックは全てインデント（字下げ）によって区切られる</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This will be printed out&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># ここには到達しない</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This will be ignored&#39;</span><span class="p">)</span>


<span class="c1"># ここでは sys という名前のモジュールを import する</span>
<span class="c1"># プログラムを実行途中で終了するには sys.exit を呼ぶ</span>
<span class="c1"># sys.exitに与える整数は終了コード（通常は0が正常終了でそれ以外は異常終了）</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">if</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<p>5-11行目が <code class="docutils literal notranslate"><span class="pre">if-else</span></code> による分岐である．これについては後述するが，その意味は明らかであろう．同じような分岐はCでは</p>
<div class="highlight-c notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;This will be printed out&quot;</span><span class="p">);</span>
<span class="k">else</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;This will be ignored&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Fortranでは</p>
<div class="highlight-fortran notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span> <span class="p">.</span><span class="n">true</span><span class="p">.</span> <span class="p">)</span> <span class="k">then</span>
<span class="k">  print</span> <span class="o">*</span><span class="p">,</span> <span class="s1">&#39;Hello&#39;</span>
  <span class="k">print</span> <span class="o">*</span><span class="p">,</span> <span class="s1">&#39;This will be printed out&#39;</span>
<span class="k">else</span>
<span class="k">  print</span> <span class="o">*</span><span class="p">,</span> <span class="s1">&#39;This will be ignored&#39;</span>
<span class="k">end if</span>
</pre></div>
</td></tr></table></div>
<p>のように記述することになる．多くの言語では何らかのキーワードや記号(Fortranならば <code class="docutils literal notranslate"><span class="pre">end</span> <span class="pre">if</span></code> など，Cならば <code class="docutils literal notranslate"><span class="pre">{</span></code> および <code class="docutils literal notranslate"><span class="pre">}</span></code>)を用いて制御構造の区切りを表しているのに対して，Pythonではインデントで区切りを付けることになっている．したがって，例えば次のような書き方はエラーとなる．</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="mi">1</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;error !&#39;</span><span class="p">)</span>  <span class="c1"># インデントがあっていない</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;error !&#39;</span><span class="p">)</span>    <span class="c1"># 次に続くelseと整合しない</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This will be ignored&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>すなわち， <strong>文頭に余計なスペースなどがあるソースコードは文法的に許されない</strong> のである．多くの言語ではあくまで人間の見やすさのためにインデントをしているのであって，文法的には必須ではない．したがって，書き手に依存して簡単に読みにくいコードが出来てしまう．Pythonではインデントを文法として強制することで，誰が書いても読みやすいコードになるのである <a class="footnote-reference brackets" href="#readability" id="id7">4</a>．</p>
<p>なお，このようなインデントを手動で行なうのはあまり賢いやり方ではないので，エディタの機能をうまく使うとよい．最近の高機能なエディタであればどれでもPythonを扱うための便利な機能を提供している．</p>
<p>また，Pythonには標準で様々なモジュール（ライブラリ）が用意されており，それらを組み合わせてプログラムを開発していくことになる．モジュールの使い方についての詳細な説明はここでは割愛するが，モジュールを使うにはまず <code class="docutils literal notranslate"><span class="pre">import</span></code> する必要がある．これはFortranの <code class="docutils literal notranslate"><span class="pre">use</span></code> と同じものだと考えて良い．Cでは <code class="docutils literal notranslate"><span class="pre">include</span></code> に近い．</p>
<p>上の例では17行目でsysという名前のモジュールを <code class="docutils literal notranslate"><span class="pre">import</span></code> し，20行目，22行目で <code class="docutils literal notranslate"><span class="pre">sys.exit</span></code> を呼んでいる．Pythonのプログラムは基本的には上から順に実行され最後の行に達した段階で終了するが，何らかのエラーが発生した場合など，途中でプログラムの実行を打ち切りたい場合には <code class="docutils literal notranslate"><span class="pre">sys.exit</span></code> を呼べばよい．(Fortranの <code class="docutils literal notranslate"><span class="pre">stop</span></code> ，Cの <code class="docutils literal notranslate"><span class="pre">exit</span></code> 関数と同じものである．）</p>
</div>
<div class="section" id="id8">
<h2><a class="toc-backref" href="#id26"><span class="section-number">2.3. </span>変数</a><a class="headerlink" href="#id8" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>スクリプト言語であるPythonにおける変数の扱いはコンパイル型言語とは大きく異なり，変数を使う際に型宣言をする必要がない．例えば以下のように変数を使うことができる．</p>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="chap02_sample2_py.html"><span class="doc">sample2.py</span></a> 抜粋</span><a class="headerlink" href="#id19" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">10</span>           <span class="c1"># nは整数 (4byte = 32bit)</span>
<span class="n">x</span> <span class="o">=</span> <span class="mf">3.14</span>         <span class="c1"># xは実数 (8byte = 64bit)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n = &#39;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x = &#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<p>ここで変数 <code class="docutils literal notranslate"><span class="pre">n</span></code> や <code class="docutils literal notranslate"><span class="pre">x</span></code> の型を指定していないことに注意しよう．Pythonでは明示的にデータ型を指定しなくても， <code class="docutils literal notranslate"><span class="pre">=</span></code> で数値を代入する際に（実行時に）右辺値に応じて自動的に変数の型が選択されることになっている．したがって <code class="docutils literal notranslate"><span class="pre">n</span></code> は整数， <code class="docutils literal notranslate"><span class="pre">x</span></code> は実数となる．なお，Python3では実数型（浮動小数点数）はデフォルトで8byte(Cの <code class="docutils literal notranslate"><span class="pre">double</span></code> ，Fortranの <code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">precision</span></code> または <code class="docutils literal notranslate"><span class="pre">real(8)</span></code>)となる．一方で，整数型には決まったサイズは存在しない（値が大きくなると，必要に応じてサイズが大きくなる）．</p>
<p>CやFortranではプログラムや関数・サブルーチンの先頭で変数を宣言してから使う必要があったのに対して，いつでも好きなときに変数を定義して使うことができるので大変便利である．しかし，まだ定義していない変数を参照するとエラーが発生する．例えば先ほどの例の後に</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;y = &#39;</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>としても，変数 <code class="docutils literal notranslate"><span class="pre">y</span></code> が定義されていないので実行時にエラーが発生する．例えば <code class="docutils literal notranslate"><span class="pre">sample2.py</span></code> の10行目のコメントアウトを外して実行すると，</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;sample/chap02/sample2.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">10</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;y = &#39;</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;y&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre></div>
</td></tr></table></div>
<p>のように表示されてしまう．これは意外とよくある間違いなので気をつけよう．</p>
<p>なお，Pythonではプログラム中で書き換えのできない定数(Cの <code class="docutils literal notranslate"><span class="pre">const</span></code>, Fortranの <code class="docutils literal notranslate"><span class="pre">parameter</span></code>)は言語仕様としては提供されていない．必要な場合には実質的には定数と振る舞うような変数を用いることは可能である．</p>
</div>
<div class="section" id="id9">
<h2><a class="toc-backref" href="#id27"><span class="section-number">2.4. </span>算術演算</a><a class="headerlink" href="#id9" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>数学的な演算はCやFortranと共通の点が多いが，多少注意が必要である．以下に算術演算演算の使用例を示す．</p>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="chap02_sample3_py.html"><span class="doc">sample3.py</span></a> 抜粋</span><a class="headerlink" href="#id20" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="mi">12</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># 和 =&gt; 17</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">12</span> <span class="o">-</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># 差 =&gt; 7</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">12</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># 積 =&gt; 60</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">12</span> <span class="o">//</span> <span class="mi">5</span><span class="p">)</span> <span class="c1"># 商 =&gt; 2</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">12</span> <span class="o">%</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># 余り =&gt; 2</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">12</span> <span class="o">/</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># 実数としての割り算 =&gt; 2.4</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span>    <span class="c1"># べき乗 =&gt; 8</span>
</pre></div>
</td></tr></table></div>
</div>
<p>CやFortranでは整数同士で割り算( <code class="docutils literal notranslate"><span class="pre">/</span></code> 演算子)をすると返値も整数となるため，上の例で言えば <code class="docutils literal notranslate"><span class="pre">12</span> <span class="pre">/</span> <span class="pre">5</span></code> は <code class="docutils literal notranslate"><span class="pre">2</span></code> となるが，Pythonでは自動的に実数同士の割り算に変換される．代わりに <code class="docutils literal notranslate"><span class="pre">//</span></code> を整数同士の割り算をする演算子として用いる．</p>
<p>また <code class="docutils literal notranslate"><span class="pre">%</span></code> 演算子はCと同様に整数同士の割り算の余りを返す．Fortranでは <code class="docutils literal notranslate"><span class="pre">mod</span></code> 関数に相当する．逆に <code class="docutils literal notranslate"><span class="pre">**</span></code> 演算子はFortranと同じべき乗を返すが，Cでは <code class="docutils literal notranslate"><span class="pre">pow</span></code> 関数に相当する．</p>
</div>
<div class="section" id="id10">
<h2><a class="toc-backref" href="#id28"><span class="section-number">2.5. </span>数学関数</a><a class="headerlink" href="#id10" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>数学関数を使うには <code class="docutils literal notranslate"><span class="pre">math</span></code> というモジュールを <code class="docutils literal notranslate"><span class="pre">import</span></code> すればよい．</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
</pre></div>
</td></tr></table></div>
<p>その上で，例えば <span class="math notranslate nohighlight">\(\exp(x)\)</span> を計算するには</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>のように関数 <code class="docutils literal notranslate"><span class="pre">math.exp</span></code> を用いればよい．それ以外にもCやFortranに組み込みで用意されているような数学関数はPythonにも用意されていると考えてよいだろう．</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>ここではPython本体に組み込みのモジュールという意味で <code class="docutils literal notranslate"><span class="pre">math</span></code> を紹介した．しかし，科学技術用途でPythonを使う場合にはほぼ間違いなく <code class="docutils literal notranslate"><span class="pre">numpy</span></code> と呼ばれるライブラリがインストールされている環境を使うことになるので，その場合には <code class="docutils literal notranslate"><span class="pre">numpy</span></code> に含まれている数学関数を用いる方が何かと便利である．使い方は全く同じである．</p>
</div>
</div>
<div class="section" id="id11">
<h2><a class="toc-backref" href="#id29"><span class="section-number">2.6. </span>キーボード入力</a><a class="headerlink" href="#id11" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ここでコマンドラインでPythonプログラムを実行する際にキーボードからの入力を受け取る方法を一つ紹介しておこう．これには組み込み関数の <code class="docutils literal notranslate"><span class="pre">input</span></code> を使う．</p>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="chap02_sample4_py.html"><span class="doc">sample4.py</span></a> 抜粋</span><a class="headerlink" href="#id21" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># キーボード入力を読み込む</span>
<span class="n">s</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Input something: &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Your input is : &#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">input</span></code> によってキーボード入力は文字列として読み込まれるので，整数や実数として用いたい場合には文字列から型を変換する関数 <code class="docutils literal notranslate"><span class="pre">int</span></code> もしくは <code class="docutils literal notranslate"><span class="pre">float</span></code> を用いる必要がある．変換された後は以下の例のように通常の整数，実数の変数として扱えば良い．</p>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-text"><a class="reference internal" href="chap02_sample4_py.html"><span class="doc">sample4.py</span></a> 抜粋</span><a class="headerlink" href="#id22" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># 整数に変換</span>
<span class="n">a</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Input integer 1: &#39;</span><span class="p">))</span>
<span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Input integer 2: &#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Sum of two integers : &#39;</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>

<span class="c1"># 実数に変換</span>
<span class="n">c</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Input real: &#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Square of float : &#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<p>プログラムに入力を与える方法は他にも色々と考えられるが，まずはこの一番簡単な方法を使うことにしよう．</p>
</div>
<div class="section" id="id12">
<h2><a class="toc-backref" href="#id30"><span class="section-number">2.7. </span>第2章 演習課題</a><a class="headerlink" href="#id12" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id13">
<h3><span class="section-number">2.7.1. </span>課題1<a class="headerlink" href="#id13" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>サンプルを実行して動作を確認しよう．</p>
</div>
<div class="section" id="id14">
<h3><span class="section-number">2.7.2. </span>課題2<a class="headerlink" href="#id14" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>標準出力に <code class="docutils literal notranslate"><span class="pre">Hello,</span> <span class="pre">Python</span> <span class="pre">!</span></code> 出力するプログラムを作成しよう．</p>
</div>
<div class="section" id="id15">
<h3><span class="section-number">2.7.3. </span>課題3<a class="headerlink" href="#id15" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>標準入力から三角形の底辺 <span class="math notranslate nohighlight">\(l\)</span> と高さ <span class="math notranslate nohighlight">\(h\)</span> を読み込み，三角形の面積を表示するプログラムを作成しよう．</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ python kadai3.py
Input l : <span class="m">5</span>.0       <span class="c1"># キーボード入力</span>
Input h : <span class="m">3</span>.0       <span class="c1"># キーボード入力</span>
Area of triangle :  <span class="m">7</span>.5
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id16">
<h3><span class="section-number">2.7.4. </span>課題4<a class="headerlink" href="#id16" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>キーボード入力で与えられた実数 <span class="math notranslate nohighlight">\(x\)</span> について，テイラー展開の公式</p>
<div class="math notranslate nohighlight">
\[\sin x = x - \frac{x^3}{3 !} + \frac{x^5}{5 !} - \frac{x^7}{7 !} \cdots\]</div>
<p>を適当な次数(例えば2次とか3次)で打ち切りることで <span class="math notranslate nohighlight">\(\sin x\)</span> の近似値を求め，組み込み関数 <code class="docutils literal notranslate"><span class="pre">sin(x)</span></code> で求めた値と比較するプログラムを作成しよう．例えば <span class="math notranslate nohighlight">\(x = 0.01，0.1，0.2\)</span> などについて，実行して結果を確かめること．</p>
<p>例えば以下のような結果が得られればよい</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ python kadai4.py
Input x : <span class="m">0</span>.2                     <span class="c1"># キーボード入力</span>
1st <span class="nv">order</span> <span class="o">=</span>  <span class="m">0</span>.2
3rd <span class="nv">order</span> <span class="o">=</span>  <span class="m">0</span>.19866666666666669
5th <span class="nv">order</span> <span class="o">=</span>  <span class="m">0</span>.19866933333333336
7th <span class="nv">order</span> <span class="o">=</span>  <span class="m">0</span>.19866933079365082
<span class="nv">exact</span>     <span class="o">=</span>  <span class="m">0</span>.19866933079506122
</pre></div>
</td></tr></table></div>
<hr class="docutils" />
<dl class="footnote brackets">
<dt class="label" id="print"><span class="brackets"><a class="fn-backref" href="#id3">1</a></span></dt>
<dd><p>Python-2.xでは <code class="docutils literal notranslate"><span class="pre">print</span></code> の形式が違っていたので古い情報を参照する場合には注意が必要．他にも細かいところに少しずつ違いがある．なお，以下のように <code class="docutils literal notranslate"><span class="pre">print</span></code> 関数にはカンマ区切りで複数の文字列や変数を渡すことができる．</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hi, &#39;</span><span class="p">,</span> <span class="s1">&#39;I &#39;</span><span class="p">,</span> <span class="s1">&#39;Love &#39;</span><span class="p">,</span> <span class="s1">&#39;Python !&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</dd>
<dt class="label" id="cmdexec"><span class="brackets"><a class="fn-backref" href="#id4">2</a></span></dt>
<dd><p>実は <a class="reference internal" href="chap02_hello_py.html"><span class="doc">hello.py</span></a> の1行目がPythonで実行せよという意味なので，実行権限さえ与えてあればこのように実行することができるのである．</p>
</dd>
<dt class="label" id="interactive"><span class="brackets"><a class="fn-backref" href="#id5">3</a></span></dt>
<dd><p>最近ではPythonに関する情報の多くがJupyter Notebookと呼ばれる環境での実行を前提としており，Pythonスクリプトとしての実行方法についてあまり紹介してくれていない．実際にそのような使い方を知らない人も多いようなので，ここではあえてコマンドラインでの実行方法から先に紹介する．</p>
</dd>
<dt class="label" id="readability"><span class="brackets"><a class="fn-backref" href="#id7">4</a></span></dt>
<dd><p>もちろんこれは程度の問題である．Pythonであっても読みにくいコードが絶対にできないわけではない．</p>
</dd>
</dl>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="chap03.html" class="btn btn-neutral float-right" title="3. 対話型の実行方法" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="chap01.html" class="btn btn-neutral float-left" title="1. はじめに" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Takanobu Amano

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>